<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Article – Lagune Info</title>

    <!-- CSS -->
    <link rel="stylesheet" href="visitor.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Source+Serif+4:wght@400;600;700&family=Source+Sans+3:wght@400;600;700&display=swap">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="tailwind-config.js"></script>

    <style>
        /* Tailwind Config Overrides via CSS Variables if needed */
        .font-headline {
            font-family: 'Libre Baskerville', serif;
        }

        .font-serif-text {
            font-family: 'Source Serif 4', serif;
        }
    </style>
</head>

<body class="bg-white min-h-screen flex flex-col font-sans text-gray-900">

    <!-- Header Global (Copie conforme visitor.html) -->
    <header class="border-b border-gray-200 sticky top-0 bg-white z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <a href="index.html" class="group flex items-center gap-3">
                    <div
                        class="bg-brand-green w-10 h-10 flex items-center justify-center text-white font-bold text-xl font-serif rounded-sm group-hover:bg-opacity-90 transition-colors">
                        LI
                    </div>
                    <div class="flex flex-col">
                        <span class="text-2xl font-bold font-serif leading-none tracking-tight text-brand-ink">Lagune
                            <span class="text-brand-yellow">.</span> Info</span>
                    </div>
                </a>
                <!-- Navigation (Desktop) -->
                <nav class="hidden md:flex space-x-8">
                    <a href="index.html"
                        class="text-sm font-semibold uppercase tracking-wide text-gray-500 hover:text-brand-green transition-colors border-b-2 border-transparent hover:border-brand-green py-1">Accueil</a>
                    <a href="#"
                        class="text-sm font-semibold uppercase tracking-wide text-gray-500 hover:text-brand-green transition-colors border-b-2 border-transparent hover:border-brand-green py-1">Politique</a>
                    <a href="#"
                        class="text-sm font-semibold uppercase tracking-wide text-gray-500 hover:text-brand-green transition-colors border-b-2 border-transparent hover:border-brand-green py-1">Économie</a>
                    <a href="#"
                        class="text-sm font-semibold uppercase tracking-wide text-gray-500 hover:text-brand-green transition-colors border-b-2 border-transparent hover:border-brand-green py-1">Tech</a>
                    <a href="#"
                        class="text-sm font-semibold uppercase tracking-wide text-gray-500 hover:text-brand-green transition-colors border-b-2 border-transparent hover:border-brand-green py-1">Société</a>
                </nav>

                <!-- Search / Date -->
                <div class="flex items-center space-x-4">
                    <span class="hidden lg:block text-xs font-medium text-gray-400 uppercase tracking-wider"
                        id="header-date"></span>
                    <button
                        class="bg-gray-100 p-2 rounded-full text-gray-500 hover:text-brand-green hover:bg-gray-200 transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Contenu Article -->
    <main class="flex-grow w-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10" id="main-content">

        <!-- Fil d'ariane -->
        <nav class="flex items-center text-sm font-medium text-gray-500 mb-6">
            <a href="index.html" class="hover:text-brand-green hover:underline">Accueil</a>
            <span class="mx-2 text-gray-300">/</span>
            <span class="text-brand-green uppercase tracking-wide font-bold text-xs"
                id="article-category">Actualités</span>
        </nav>

        <!-- Header Article -->
        <header class="mb-8 text-center sm:text-left">
            <h1 id="article-title"
                class="font-headline text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 leading-tight mb-4">
                Chargement...
            </h1>

            <div
                class="flex flex-col sm:flex-row sm:items-center text-sm text-gray-500 border-t border-b border-gray-100 py-3 mt-6">
                <div class="flex items-center gap-2">
                    <span
                        class="bg-gray-100 text-gray-600 px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wider">Auteur</span>
                    <span class="font-semibold text-gray-900">Rédaction</span>
                </div>
                <span class="hidden sm:inline mx-3 text-gray-300">|</span>
                <div class="flex items-center gap-2 mt-2 sm:mt-0">
                    <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                        </path>
                    </svg>
                    <time id="article-date" datetime=""></time>
                </div>
                <span class="hidden sm:inline mx-3 text-gray-300">|</span>
                <div class="mt-2 sm:mt-0">
                    <span id="article-status" class="label-certifie ml-auto">Certifié SEO</span>
                </div>
            </div>
        </header>

        <!-- Image Principale -->
        <figure class="mb-10 w-full">
            <div class="aspect-video w-full bg-gray-100 overflow-hidden shadow-sm rounded-sm relative">
                <img id="article-image" src="" alt="Image de l'article"
                    class="w-full h-full object-cover transition-opacity duration-500 opacity-0"
                    onload="this.classList.remove('opacity-0')">
            </div>
            <figcaption class="mt-2 text-xs text-gray-500 italic text-right border-b border-gray-100 pb-2">Illustration
                © Unsplash/Pexels</figcaption>
        </figure>

        <!-- Corps de l'article -->
        <article class="grid grid-cols-1 lg:grid-cols-12 gap-10">

            <!-- Colonne de gauche (partage, sommaire) -->
            <aside class="hidden lg:block col-span-1 border-r border-gray-100 pr-4">
                <div class="sticky top-24 flex flex-col gap-4">
                    <button
                        class="w-8 h-8 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-blue-50 transition-colors"
                        title="Partager sur LinkedIn"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" />
                        </svg></button>
                    <button
                        class="w-8 h-8 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 hover:text-black hover:bg-gray-200 transition-colors"
                        title="Partager sur X (Twitter)"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                        </svg></button>
                </div>
            </aside>

            <!-- Contenu Textuel -->
            <div id="article-body"
                class="col-span-1 lg:col-span-11 article-body text-lg text-gray-800 leading-relaxed font-serif-text">
                <!-- Rempli par JS -->
                <p class="text-gray-400 italic">Chargement du contenu...</p>
            </div>

        </article>

    </main>

    <footer class="bg-gray-900 border-t border-gray-800 mt-20 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center sm:text-left">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h4 class="font-headline text-xl font-bold mb-4 text-white">Lagune Info</h4>
                    <p class="text-gray-400 text-sm leading-relaxed">Le site d'actualité professionnelle de référence
                        pour vos projets SEO.</p>
                </div>
                <div>
                    <h5 class="text-gray-500 font-bold uppercase tracking-wider text-xs mb-3">Sections</h5>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><a href="#" class="hover:text-white transition-colors">Politique</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Économie</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Tech</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Société</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="text-gray-500 font-bold uppercase tracking-wider text-xs mb-3">Légal</h5>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><a href="#" class="hover:text-white transition-colors">Mentions légales</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">CGU</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Confidentialité</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-10 pt-6 text-center text-xs text-gray-600">
                &copy; 2026 Lagune Info. Tous droits réservés. Projet éducatif.
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="data.js"></script>
    <script src="app.js"></script> <!-- Pour les helpers éventuels -->
    <script>
        // Configuration
        const PLACEHOLDER_IMAGES = [
            'https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=1200&q=80',
            'https://images.unsplash.com/photo-1586339949916-3e9457bef6d3?w=1200&q=80',
            'https://images.unsplash.com/photo-1495020689067-958852a7765e?w=1200&q=80',
            'https://images.unsplash.com/photo-1557804506-669a67965ba0?w=1200&q=80',
            'https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?w=1200&q=80',
            'https://images.unsplash.com/photo-1504384308090-c894fdcc538d?w=1200&q=80',
        ];

        function getPlaceholder(id) {
            // Utiliser l'ID pour avoir toujours la même image pour le même article
            return PLACEHOLDER_IMAGES[id % PLACEHOLDER_IMAGES.length];
        }

        function getArticleImage(art) {
            if (art && art.imageData) return art.imageData;
            if (art && art.id) return getPlaceholder(art.id);
            return PLACEHOLDER_IMAGES[0];
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', () => {
            // Date du header
            const dateEl = document.getElementById('header-date');
            if (dateEl) {
                dateEl.textContent = new Date().toLocaleDateString('fr-FR', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' });
            }

            // Récupération ID article
            const urlParams = new URLSearchParams(window.location.search);
            const articleId = urlParams.get('id');

            if (!articleId) {
                alert("Aucun identifiant d'article fourni.");
                window.location.href = 'index.html';
                return;
            }

            // Chargement Article via CMS (data.js)
            const article = CMS.getArticleById(articleId);

            if (!article) {
                document.getElementById('main-content').innerHTML = `
           <div class="text-center py-20">
             <h1 class="text-3xl font-bold mb-4">Article introuvable</h1>
             <p class="text-gray-500 mb-6">L'article demandé n'existe pas ou a été supprimé.</p>
             <a href="index.html" class="text-brand-green underline">Retour à l'accueil</a>
           </div>
         `;
                return;
            }

            // Vérification Statut (Optionnel, mais logique métier respectée)
            if (article.statut !== 'certified') {
                document.getElementById('main-content').innerHTML = `
           <div class="text-center py-20">
             <h1 class="text-3xl font-bold mb-4">Article non disponible</h1>
             <p class="text-gray-500 mb-6">Cet article n'est pas encore publié.</p>
             <a href="index.html" class="text-brand-green underline">Retour à l'accueil</a>
           </div>
         `;
                return;
            }

            // Remplissage DOM
            document.title = `${article.titre} - Lagune Info`;
            document.getElementById('article-title').textContent = article.titre;
            document.getElementById('article-date').textContent = new Date(article.datePublication).toLocaleDateString('fr-FR', { day: 'numeric', month: 'long', year: 'numeric' });
            document.getElementById('article-date').setAttribute('datetime', article.datePublication);
            const imgEl = document.getElementById('article-image');
            imgEl.src = getArticleImage(article);
            imgEl.alt = article.imageAlt || article.titre; // Fallback au titre si pas d'ALT
            document.getElementById('article-body').innerHTML = article.contenu; // Attention XSS si data non sûre, mais ici data js locale

            // Gestion simple des catégories (mock pour l'exemple)
            const categories = ['Politique', 'Économie', 'Tech', 'Société', 'International'];
            const randomCat = categories[article.id % categories.length];
            document.getElementById('article-category').textContent = randomCat;
        });
    </script>
</body>

</html>