<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Les Échos Planète – Actualités Solutions & Transition</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Playfair+Display:wght@700;800;900&family=Source+Sans+3:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --color-echos-green: #008e5a;
      --color-ink: #1a1a1a;
      --color-ink-soft: #4a4a4a;
      --color-muted: #6b7280;
      --color-border: #e5e7eb;
      --color-paper: #ffffff;
    }
    body { font-family: 'Source Sans 3', sans-serif; color: var(--color-ink); background: var(--color-paper); }
    .font-serif-title { font-family: 'Playfair Display', serif; }
    .font-serif-body { font-family: 'Libre Baskerville', serif; }
    
    .category-tag {
      color: var(--color-echos-green);
      font-size: 0.7rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 0.5rem;
      display: inline-block;
    }

    .hero-overlay {
      background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.2) 60%, rgba(0,0,0,0) 100%);
    }

    .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
    .line-clamp-3 { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }

    header .nav-link {
      font-weight: 500;
      color: var(--color-ink);
      font-size: 0.9rem;
      transition: color 0.2s;
    }
    header .nav-link:hover { color: var(--color-echos-green); }
    
    .border-b-3 { border-bottom-width: 3px; }
    .border-echos-green { border-color: var(--color-echos-green); }
  </style>
</head>
<body class="min-h-screen antialiased">
  <!-- En-tête Les Échos -->
  <header class="bg-white border-b border-stone-200 sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="flex items-center justify-between h-20">
        <!-- Logo -->
        <div class="flex items-center">
          <a href="visitor.html" class="flex flex-col items-start leading-none">
            <span class="text-xs font-bold tracking-widest uppercase text-stone-500 mb-1">Les Echos</span>
            <span class="font-serif-title text-2xl font-black uppercase tracking-tighter">Planète</span>
          </a>
        </div>

        <!-- Menu -->
        <nav class="hidden md:flex space-x-8">
          <a href="#" class="nav-link border-b-2 border-transparent hover:border-echos-green py-2">Enquêtes</a>
          <a href="#" class="nav-link border-b-2 border-transparent hover:border-echos-green py-2">Acteurs</a>
          <a href="#" class="nav-link border-b-2 border-echos-green py-2 text-echos-green">Solutions</a>
          <a href="#" class="nav-link border-b-2 border-transparent hover:border-echos-green py-2">Contributions</a>
        </nav>

        <!-- Search & Icons -->
        <div class="flex items-center space-x-4">
          <button class="p-2 text-stone-500 hover:text-echos-green">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </button>
          <div class="hidden sm:block h-6 w-px bg-stone-200 mx-2"></div>
          <div class="hidden lg:flex items-center space-x-2">
             <span class="text-[10px] font-bold text-stone-400 uppercase tracking-widest leading-none text-right">Partenaire exclusif<br>des Echos Planète</span>
             <div class="w-16 h-10 bg-stone-100 flex items-center justify-center rounded uppercase font-bold text-[8px] text-stone-400">Rolex</div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 py-12">
    <div class="mb-12">
      <h1 class="font-serif-title text-5xl font-black mb-8 border-b-4 border-black inline-block pb-2">Solutions</h1>
    </div>

    <!-- Layout Grid Inspired by Les Echos -->
    <div id="article-container" class="grid grid-cols-1 lg:grid-cols-12 gap-10">
      <!-- Rempli par JS -->
    </div>
    
    <div class="mt-20 flex justify-center">
      <button class="px-8 py-3 border border-black font-bold uppercase tracking-widest text-xs hover:bg-black hover:text-white transition-colors duration-300">
        Voir tous les articles
      </button>
    </div>
  </main>

  <footer class="border-t border-stone-200 mt-20 py-12 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="flex flex-col md:flex-row justify-between items-center gap-6">
        <div class="flex flex-col items-start leading-none opacity-50">
          <span class="text-[10px] font-bold tracking-widest uppercase text-stone-500 mb-1">Les Echos</span>
          <span class="font-serif-title text-xl font-black uppercase tracking-tighter">Planète</span>
        </div>
        <div class="flex gap-6 text-xs font-medium text-stone-500">
          <a href="#" class="hover:text-black">Cookies</a>
          <a href="#" class="hover:text-black">CGU-CGV</a>
          <a href="#" class="hover:text-black">Politique de Confidentialité</a>
          <a href="#" class="hover:text-black">Charte éthique</a>
        </div>
        <p class="text-[10px] font-bold text-stone-400 uppercase tracking-widest">Tout droits réservés - Les Echos 2026</p>
      </div>
    </div>
  </footer>

  <script src="data.js"></script>
  <script src="app.js"></script>
  <script>
    App.setRole('visitor');

    const containerEl = document.getElementById('article-container');

    const PLACEHOLDER_IMAGES = [
      'https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?w=1200&q=80', // Nature/Solar
      'https://images.unsplash.com/photo-1466611653911-954ff2131404?w=1200&q=80', // Wind energy
      'https://images.unsplash.com/photo-1508243529287-e21914733111?w=1200&q=80', // Ecology
      'https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?w=1200&q=80', // Light/City
      'https://images.unsplash.com/photo-1532601224476-15c79f2f7a51?w=1200&q=80', // Modern tech
      'https://images.unsplash.com/photo-1509391366360-2e959784a276?w=1200&q=80', // Nature logic
    ];

    function getArticleImage(art, index) {
      return (art && art.imageData) ? art.imageData : PLACEHOLDER_IMAGES[index % PLACEHOLDER_IMAGES.length];
    }

    function escapeHtml(str) {
      if (!str) return '';
      const div = document.createElement('div');
      div.textContent = str;
      return div.innerHTML;
    }

    function renderArticles() {
      const articles = App.getArticlesForVisitor();

      if (articles.length === 0) {
        containerEl.innerHTML = '<div class="col-span-12 py-20 text-center text-stone-400 font-serif-body italic">Aucun article certifié pour le moment.</div>';
        return;
      }

      // Hero Article
      const hero = articles[0];
      const others = articles.slice(1);

      let html = '';

      // —— Hero Section (Left Column, col-span-8 or similar) ——
      html += `
        <div class="lg:col-span-8 flex flex-col gap-10">
          <article class="relative aspect-[4/3] overflow-hidden group">
            <a href="article.html?id=${hero.id}" class="block w-full h-full">
              <img src="${getArticleImage(hero, 0)}" alt="" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105">
              <div class="absolute inset-0 hero-overlay flex flex-col justify-end p-8 sm:p-12 text-white">
                <span class="category-tag !text-white opacity-80">Solutions</span>
                <h2 class="font-serif-title text-3xl sm:text-5xl font-black leading-tight mb-4 group-hover:underline underline-offset-4 decoration-2">
                  ${escapeHtml(hero.titre)}
                </h2>
                <p class="font-serif-body text-base sm:text-lg opacity-90 line-clamp-3">
                  ${escapeHtml(App.getExcerpt(hero.contenu, 200))}
                </p>
              </div>
            </a>
          </article>
      `;

      // Next ones in the left column (if any)
      if (others.length > 0) {
        const leftColSub = others.slice(0, 2);
        html += `<div class="grid grid-cols-1 md:grid-cols-2 gap-10">`;
        leftColSub.forEach((art, i) => {
          html += `
            <article class="group">
              <a href="article.html?id=${art.id}" class="block">
                <div class="aspect-[16/9] overflow-hidden mb-4">
                  <img src="${getArticleImage(art, i + 1)}" alt="" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105">
                </div>
                <span class="category-tag">Solutions</span>
                <h3 class="font-serif-title text-2xl font-black leading-tight mb-3 group-hover:text-echos-green transition-colors">
                  ${escapeHtml(art.titre)}
                </h3>
                <p class="text-sm text-stone-600 leading-relaxed line-clamp-2">
                  ${escapeHtml(App.getExcerpt(art.contenu, 140))}
                </p>
              </a>
            </article>
          `;
        });
        html += `</div>`;
      }
      html += `</div>`; // End lg:col-span-8

      // —— Right Column (col-span-4) ——
      if (others.length > 2) {
        const rightCol = others.slice(2);
        html += `<div class="lg:col-span-4 flex flex-col gap-10">`;
        rightCol.forEach((art, i) => {
          html += `
            <article class="group border-b border-stone-100 pb-8 last:border-0">
              <a href="article.html?id=${art.id}" class="block">
                <div class="aspect-[16/9] overflow-hidden mb-4">
                  <img src="${getArticleImage(art, i + 3)}" alt="" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105">
                </div>
                <span class="category-tag">Solutions</span>
                <h3 class="font-serif-title text-xl font-black leading-tight mb-3 group-hover:text-echos-green transition-colors">
                  ${escapeHtml(art.titre)}
                </h3>
                <p class="text-sm text-stone-600 leading-relaxed line-clamp-2">
                  ${escapeHtml(App.getExcerpt(art.contenu, 120))}
                </p>
              </a>
            </article>
          `;
        });
        html += `</div>`;
      }

      containerEl.innerHTML = html;
    }

    renderArticles();
  </script>
</body>
</html>

